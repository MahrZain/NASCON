{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Fonts & Bootstrap -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Poppins&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>

<div class="root">
  <div class="mainAppWrapper">

    <!-- Header -->
    <div class="mainWebHeader">
      <div class="LSide">
        <div class="logo">
          <a href="/"><p>EdTech</p></a>
        </div>
      </div>
      <div class="RSide">
        <div class="List d-flex align-items-center gap-3">
          <div class="Item NotificationBtn">
            <i class="bi bi-bell fs-4"></i>
          </div>
          <div class="Item UserBtn">
            <button class="btn border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#profileOffcanvas">
              <i class="bi bi-person-circle fs-3"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Body -->
    <div class="mainAppBodyWrapper">
      <!-- Sidebar -->
      <div class="mainAppSideBar">
        <div class="OptionsList">
          <div class="ItemC {% if page == 'browse' %}active{% endif %}">
            <a href="/student/home/?page=browse">
              <div class="Item">
                <i class="bi bi-grid-3x3-gap-fill me-2"></i>
                <p>Browse Courses</p>
              </div>
            </a>
          </div>
          <div class="ItemC {% if page == 'enrolled' %}active{% endif %}">
            <a href="/student/home/?page=enrolled">
              <div class="Item">
                <i class="bi bi-mortarboard-fill me-2"></i>
                <p>Enrolled Courses</p>
              </div>
            </a>
          </div>
          <div class="ItemC {% if page == 'chat' %}active{% endif %}">
            <a href="/student/home/?page=chat">
              <div class="Item">
                <i class="bi bi-chat-dots me-2"></i>
                <p>Chats</p>
              </div>
            </a>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="mainAppBody p-4">
        {% if page == "browse" %}
          {% include "student/coursesearch.html" %}
        {% elif page == "enrolled" %}
          {% include "student/enrolledCourses.html" %}
        {% elif page == "chat" %}
          {% include "student/chatpage.html" %}
        {% elif page == "detail" and course %}
          {% include "student/courseDetail.html" %}
        {% else %}
          <h4>Welcome, {{ student.username }}!</h4>
          <p>This is your student dashboard.</p>
        {% endif %}
      </div>
    </div>

  </div>
</div>

<!-- Offcanvas Profile -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="profileOffcanvas" aria-labelledby="profileOffcanvasLabel">
  <div class="offcanvas-header">
    <h5 id="profileOffcanvasLabel">Student Profile</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <p><strong>Username:</strong> {{ student.username }}</p>
    <p><strong>Email:</strong> {{ student.email }}</p>
    <hr>
    <a href="/logout/" class="btn btn-danger w-100">Logout</a>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
